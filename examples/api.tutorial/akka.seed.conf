akka {
    actor {
        provider = cluster
        debug
        {
            receive = on            # log any received message
            autoreceive = on        # log automatically received messages, e.g. PoisonPill
            lifecycle = on          # log actor lifecycle changes
            event-stream = on       # log subscription changes for Akka.NET event stream
            unhandled = on          # log unhandled messages sent to actors
        }
    }
    loglevel = DEBUG
    persistence {
        query.journal.sql {
            class = "Akka.Persistence.Query.Sql.SqlReadJournalProvider, Akka.Persistence.Query.Sql"
            write-plugin = ""
            refresh-interval = 3s
            max-buffer-size = 100
        }
	    journal {
	        plugin = "akka.persistence.journal.sql-server"
		    sql-server {
			    class = "Akka.Persistence.SqlServer.Journal.SqlServerJournal, Akka.Persistence.SqlServer"
			    plugin-dispatcher = "akka.actor.default-dispatcher"
			    connection-string = "Server=db;Initial Catalog=wyvern;User ID=sa;Password=000000000!;"
			    connection-timeout = 2s
			    schema-name = dbo
			    table-name = EventJournal
			    auto-initialize = on
			    timestamp-provider = "Akka.Persistence.Sql.Common.Journal.DefaultTimestampProvider, Akka.Persistence.Sql.Common"
			    metadata-table-name = Metadata
		    }
	    }

	    snapshot-store {
	        plugin = "akka.persistence.snapshot-store.sql-server"
		    sql-server {
			    class = "Akka.Persistence.SqlServer.Snapshot.SqlServerSnapshotStore, Akka.Persistence.SqlServer"
			    plugin-dispatcher = "akka.actor.default-dispatcher"
                connection-string = "Server=db;Initial Catalog=wyvern;User ID=sa;Password=000000000!;"
			    connection-timeout = 5s
			    schema-name = dbo
			    table-name = SnapshotStore
			    auto-initialize = on
		    }
	    }
    }
    remote {
        dot-netty.tcp {
            hostname = localhost
            port = 7000
            public-hostname = "seed"
        }
    }
    cluster {
        seed-nodes = ["akka.tcp://ClusterSystem@seed:7000"]
        roles = ["default"]
    }
}
wyvern {
    cluster.join-self = off
    persistence {
        cluster.distribution {
            ensure-active-interval = 1s
        }
        read-side {
            run-on-role = ""
        }
        ask-timeout = 5s
        snapshot-after = 100
        passivate-after-idle-timeout = 100s
        run-entities-on-role = "default"
        max-number-of-shards = 100
    }
}
